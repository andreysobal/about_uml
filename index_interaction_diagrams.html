<!DOCTYPE html>
<!--[if lt IE 7]><html lang="ru" class="lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html lang="ru" class="lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]><html lang="ru" class="lt-ie9"><![endif]-->
<!--[if gt IE 8]><!-->
<html lang="ru">
<!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<title>Диаграммы взаимодействия</title>
	<meta name="description" content="" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" href="favicon.ico" />
	<link rel="stylesheet" href="libs/font-awesome-4.2.0/css/font-awesome.min.css" />
	<link rel="stylesheet" href="fonts.css" />
	<link rel="stylesheet" href="main.css" />
	<link rel="stylesheet" href="media.css" />
</head>
<body>
	<div id="page-wrapper">
		<header role="banner">
			<a href='index.html'>
				<h1>Unified Modeling Language<br/>UMLВВЕДЕНИЕ</h1>
				<hr class="left"> 
				<hr class="right">
			</a>
			<div class="quotes">UML &mdash; унифицированный язык моделирования, который является графическим языком для спецификации, визуализации, проектирования и документирования систем.</div>
		</header>
		
		<div class="main" role="main">
			<section>
				<h3>Диаграммы взаимодействия и их место среди других диаграмм UML</h3>
				<p>
					Смысл диаграмм взаимодействия интуитивно нам, конечно же, понятен. Однако посмотрим, что 
					о таких диаграммах говорили классики, например Буч. А вот что:
				</p>
				<cite title="Grady Booch">
					<em>Диаграмма взаимодействия</em> &mdash; это диаграмма, на которой представлено 
					взаимодействие, состоящее из множества объектов и отношений между ними, включая и сообщения, 
					которыми они обмениваются. Этот термин применяется к видам диаграмм с акцентом на 
					взаимодействии объектов (диаграммах <em>кооперации, последовательности и деятельности</em>).
				</cite>
				<p>
					Несмотря на то величайшее уважение, которое мы питаем к Г. Бучу, это определение не кажется 
					нам уж очень удачным. Хотя суть понятия оно передает. Наиболее важное слово в этом определении 
					&mdash; это слово <q>сообщения</q>. Действительно, как люди программирующие, мы понимаем, что 
					взаимодействие-то как раз и состоит в обмене сообщениями между объектами! И к вопросу о 
					сообщениях мы в этой теме еще не раз вернемся. А пока же посмотрим, что Буч говорит дальше.
				</p>
				<p>
					А дальше он объясняет, что такое диаграммы кооперации и последовательностей.
				</p>
				<cite title="Grady Booch">
					<em>Диаграмма последовательностей</em> &mdash; диаграмма взаимодействия, в которой основной 
					акцент сделан на упорядочении сообщений во времени.<br/>
					<em>Диаграмма кооперации</em> &mdash; диаграмма взаимодействий, в которой основной акцент 
					сделан на структурной организации объектов, посылающих и получающих сообщения.
				</cite>
				<p>
					То есть диаграмма последовательности описывает (и именно поэтому так и называется) 
					последовательность, в которой объекты отправляют и получают сообщения, а диаграмма кооперации 
					&mdash; это аналог диаграммы последовательностей, который тоже показывает обмен сообщениями 
					между объектами, но акцентирует внимание на ролях, которые объекты играют во взаимодействии. 
					Эти два типа диаграмм вообще-то взаимозаменяемы, и решение, какую именно из них использовать 
					в каждом конкретном случае, каждый проектировщик принимает исходя из личных предпочтений. 
					Например, автор этих строк считает диаграммы последовательностей более понятным и более 
					выразительным способом моделирования взаимодействий. Ваше мнение может быть противоположным.
				</p>
				<p>
					А какое же место диаграммы взаимодействия занимают среди других диаграмм UML? На этот вопрос 
					можно ответить двояко. Можно просто говорить о построении диаграмм взаимодействия как об 
					определенном этапе в процессе моделирования. А можно вспомнить о фазах жизненного цикла 
					разработки ПО и посмотреть, где же диаграммы взаимодействия окажутся в таком случае. Да, 
					кстати, кто помнит, какая диаграмма UML наилучшим образом подходит для описания процессов? Хм, 
					что-то не видно леса рук... Ах да, видим одну руку &mdash; девушка, сидящая в дальнем углу 
					зала, за колонной... Правильно! Диаграмма активностей. Что ж, попробуем нарисовать диаграмму 
					активностей, описывающую процесс построения модели системы. Вот вариант такой диаграммы 
					(рис. 5.1):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_01_uml.gif" alt="picture is missing" title="Пример диаграммы активностей" width="620" height="304">
						<figcaption>Рисунок 5.1</figcaption>
				</figure>
				<p>
					М-да, не совсем диаграмма и не совсем активностей. Но все же она показывает то, что мы хотели 
					показать, а именно, что диаграммы взаимодействия строятся после того, как описана структура 
					системы (диаграмма классов, диаграмма компонентов), способы ее взаимодействия с внешним миром 
					(диаграмма прецедентов) и алгоритмы действий, выполняющихся в системе (диаграмме активностей). 
					Это как бы последний штрих, уточнение того, как именно ведет себя система путем изображения 
					взаимодействия объектов внутри ее.
				</p>
				<p>
					Для того же, чтобы показать место диаграмм взаимодействия в жизненном цикле разработки ПО, 
					нарисуем еще одну <q>псевдодиаграмму</q>. Правильнее было бы сказать, что та диаграмма, 
					которую вы сейчас увидите (рис. 5.2), показывает, какие артефакты разработки документируются 
					какими диаграммами.
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_02_uml.gif" alt="picture is missing" title="Место диаграмм взаимодействия в жизненном цикле разработки ПО" width="620" height="185">
						<figcaption>Рисунок 5.2</figcaption>
				</figure>
				<p>
					И опять все вроде бы логично &mdash; мы строим диаграммы взаимодействия во время анализа 
					поведения системы. Кстати, из рисунка (сказать <q>диаграмма</q> язык не поворачивается) очень 
					хорошо видно, что диаграмма последовательностей и диаграмма кооперации взаимозаменяемы и 
					являются альтернативными друг другу шагами процесса.
				</p>
			</section>
			<section>
				<h3>Диаграммы последовательностей и их нотация</h3>
				<p>
					Вступительная часть этой темы наконец-то закончилась, и мы с полным правом можем перейти к 
					рассмотрению нотации диаграмм взаимодействия. Начнем с диаграмм последовательностей. Итак, мы 
					уже говорили, что диаграмма последовательностей показывает последовательность, в которой 
					объекты в процессе взаимодействия обмениваются сообщениями. Но как же сами объекты 
					изображаются на такой диаграмме? А изображаются они точно таким же способом, каким мы 
					пользовались ранее. Т. е. объект &mdash; это просто прямоугольник, внутри которого указаны 
					подчеркнутые имя объекта и название класса (не обязательно), разделенные двоеточием. Объекты 
					располагаются в верхней части диаграммы друг за другом. А вниз от каждого объекта тянется 
					пунктирная линия, которую называют линией жизни объекта. Линия жизни объекта &mdash; это линия, 
					которая изображает существование объекта на протяжении некоторого промежутка времени, и чем 
					длиннее линия, тем дольше существует объект. Сообщения, которыми обмениваются объекты, 
					изображаются в виде стрелок, направленных от линии жизни одного объекта к линии жизни другого. 
					Линии жизни объектов, тянущиеся вниз, играют роль шкалы времени, так что сообщения, 
					отправленные ранее, расположены выше, чем отправленные позже. Таким образом, последовательность 
					сообщений легко читается <q>сверху вниз</q>. Чуть позже мы еще вернемся к обсуждению сообщений 
					и поговорим о том, каких видов они бывают и как их различить на диаграмме последовательностей. 
					А пока же убедимся, что мы одинаково понимаем сам термин <q>сообщение</q>: мы рассматриваем 
					сообщение как спецификацию передачи информации от одного объекта к другому. Объект отправляет 
					сообщение в расчете на то, что оно вызовет некую реакцию и за этим последует некоторая 
					деятельность.
				</p>
				<p>
					Еще одна вещь, которую можно увидеть на диаграммах последовательностей &mdash; это длинные 
					прерывистые полосы на линиях жизни. Таким образом обозначаются периоды времени, когда объект 
					имеет фокус управления, т. е. выполняет некоторое действие (причем неважно как &mdash; 
					непосредственно или путем вызова некоей подчиненной операции). Фокус управления на диаграммах 
					последовательностей часто не изображают: ведь и так понятно, где он должен располагаться, 
					достаточно взглянуть на положение стрелок, изображающих сообщения. Рисовать фокус или нет 
					&mdash; дело привычки каждого проектировщика. Впрочем, многие средства UML- моделирования 
					рисуют фокус автоматически, так что человеку не нужно заботиться о его изображении. Если 
					объект в процессе взаимодействия разрушается, этот факт помечают на его линии жизни 
					<em>крестиком</em>, который, собственно, эту линию и заканчивает. Да, все мы смертны. Иногда 
					так и тянется рука написать <q>R.I.P.</q> рядом с таким крестиком...
				</p>
				<p>
					Не полагаясь на выразительную силу и образность наших описаний, все же покажем примеры всех 
					этих обозначений (рис. 5.3).
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_03_uml.gif" alt="picture is missing" title="Пример диаграммы последовательностей" width="545" height="369">
						<figcaption>Рисунок 5.3</figcaption>
				</figure>
				<p>
					А вот еще парочка обозначений. Первое из них &mdash; это <em>анонимный эктор</em>, которого 
					изображают, если нужно показать использование объектов системы некоей внешней сущностью или 
					абстрактным пользователем. Второе &mdash; это <em>рефлексивное сообщение</em>. Помните, что 
					такое рефлексия? Правильно, самосозерцание! Тут, в принципе, происходит нечто подобное: объект 
					посылает сообщение самому себе. Так рисуют, если нужно показать действие, выполняемое самим 
					объектом (или внутри него), либо то, что объект сам себя вводит в некоторое состояние 
					(рис. 5.4).
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_04_uml.gif" alt="picture is missing" title="Пример диаграммы последовательностей" width="476" height="248">
						<figcaption>Рисунок 5.4</figcaption>
				</figure>
				<p>
					И еще одно &mdash; мы легко можем представить ситуацию посылки сообщения в зависимости от 
					истинности некоторого условия. Например, если цена приглянувшейся нам в магазине вещи меньше 
					ста условных единиц, мы вполне можем приобрести ее за наличные. Покупку на сумму от 100 до 
					1000 у.е. можно оплатить кредитной картой, а чтобы купить нечто, стоящее дороже 1000 
					у.е., придется брать кредит. А как изобразить такие ситуации (ветвления) на диаграмме 
					последовательностей? Да легко (рис. 5.5)!
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_05_uml.gif" alt="picture is missing" title="Пример диаграммы последовательностей" width="620" height="204">
						<figcaption>Рисунок 5.5</figcaption>
				</figure>
				<p>
					Впрочем, <em>ветвление</em> &mdash; конструкция для диаграмм последовательностей непопулярная 
					и используется она в них очень редко. Считается, что ветвления более присущи диаграммам 
					деятельностей...
				</p>
				<p>
					Ранее мы говорили, что сообщение посылается объектом в расчете на определенную реакцию, на то, 
					что за этим последует некоторая деятельность. Например, посылка ответного сообщения. А как на 
					диаграммах последовательностей изображаются ответные сообщения? Обычно их изображают пунктирной 
					линией со стрелкой, хотя часто они имеют точно такой же вид, как и обычные сообщения, только 
					направлены в противоположную сторону. Как именно их рисовать &mdash; пунктирной линией или 
					сплошной &mdash; решать вам. Это абсолютно не принципиально (рис. 5.6).
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_06_uml.gif" alt="picture is missing" title="Пример диаграммы последовательностей с ответным сообщением" width="620" height="208">
						<figcaption>Рисунок 5.6</figcaption>
				</figure>
				<p>
					Хм, картина усложняется. Мы уже видели два вида стрелок. И соответственно, два вида сообщений 
					&mdash; <em>прямое и ответное</em>. Может быть, есть еще какие-то виды сообщений, о которых мы 
					пока не знаем? Да, есть. Сами по себе сообщения бывают <em>синхронными и асинхронными</em>. 
					Синхронные сообщения приостанавливают поток выполнения до тех пор, пока не будет получен ответ. 
					Все сообщения, которые мы рассматривали в наших примерах, были именно синхронными. Пусть мы и 
					не везде рисовали ответное сообщение, но оно подразумевалось: банк выносит решение о 
					предоставлении кредита и сообщает его вам, терминал кредитных карт подтверждает транзакцию и 
					печатает чек, на котором вы ставите подпись, кассир выдает вам подтверждение платежа &mdash; 
					кассовый чек. Синхронные сообщения изображаются сплошной линией с треугольной закрашенной 
					стрелкой на конце.
				</p>
				<p>
					Другой вид сообщений &mdash; асинхронные сообщения. Они не ждут ответа, не приостанавливают 
					поток выполнения &mdash; сразу после их посылки происходит немедленный переход к следующему 
					шагу, и последовательность продолжается. Входя в офис поутру и говоря коллегам <q>hello, how 
					are you?</q>, вы ведь не ждете, что они остановят вас и начнут в течение часа рассказывать о 
					своих проблемах? Это просто формальное приветствие, не предусматривающее ответа (асинхронное). 
					Асинхронные сообщения изображаются сплошной линией с обычной (составленной из двух отрезков) 
					стрелкой на конце. А как изображаются ответные сообщения, мы уже знаем (рис. 5.7):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_07_uml.gif" alt="picture is missing" title="Стрелки для обозначения сообщений" width="606" height="93">
						<figcaption>Рисунок 5.7</figcaption>
				</figure>
				<p>
					И еще. Возможны случаи, когда нам известен адресат сообщения, но неизвестен его отправитель. 
					С примерами таких сообщений (в бумажном виде) в советские времена довольно часто встречались 
					секретари госучреждений. Такие сообщения называют <em>найденными</em>. Или обратный случай: 
					отправитель известен, а получатель &mdash; нет. Пример? Да хотя бы записки, запечатанные в 
					бутылки, которые когда-то бросали в море жертвы кораблекрушений! Такие сообщения называют... 
					Да-да, именно &mdash; <em>потерянными</em>. На диаграммах они изображаются без особых изысков 
					(рис. 5.8).
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_08_uml.gif" alt="picture is missing" title="Найденные и потерянные сообщения на диаграммах" width="620" height="149">
						<figcaption>Рисунок 5.8</figcaption>
				</figure>
				<p>
					Рассмотрим, наконец, <q>полный</q> пример диаграммы последовательностей. И конечно же, этот 
					пример мы возьмем с <a href="http://www.umljokes.com" title="www.umljokes.com" target="_blank">
					сайта шуток на UML</a> (рис. 5.9).
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_09_uml.gif" alt="picture is missing" title="Пример диаграммы последовательностей" width="593" height="716">
						<figcaption>Рисунок 5.9</figcaption>
				</figure>
				<p>
					Не правда ли, очень жизненный анекдот? А вот еще один пример, показывающий, что, задав вопрос 
					<q>сколько будет два плюс два?</q>, вы не всегда услышите в ответ <q>четыре</q>. Ответ на 
					любой вопрос всегда сильно зависит от личности, настроения, уровня интеллекта отвечающего, 
					даже от его профессии. И вот вам тому доказательство (рис. 5.10).
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_10_uml.gif" alt="picture is missing" title="Пример диаграммы последовательностей" width="635" height="387">
						<figcaption>Рисунок 5.10</figcaption>
				</figure>
			</section>
			<section>
				<h3>Диаграммы кооперации и их нотация</h3>
				<p>
					Что ж, один из видов диаграмм взаимодействия, а именно диаграммы последовательностей, мы 
					рассмотрели. Перейдем же к рассмотрению альтернативы &mdash; <em>диаграммам кооперации</em>. 
					Собственно, слово <q>кооперация</q> значит <q>совместная деятельность</q>, 
					<q>сотрудничество</q>. Такие диаграммы показывают, как объекты работают вместе для достижения 
					общей цели, акцентируясь на их ролях.
				</p>
				<p>
					Следует отметить, что здесь имеет место некоторая терминологическая путаница. В оригинале 
					такие диаграммы называются Collaboration Diagram. Слово <q>collaboration</q>, конечно же, 
					синоним слова <q>cooperation</q>, но в <q>русском</q> варианте звучит хуже. Поэтому в 
					русскоязычных учебниках говорят <q>диаграмма кооперации</q>, а не <q>коллаборации</q>. Кроме 
					этого, само это название немного устарело &mdash; в UML 2.x подобные диаграммы называются 
					Communication Diagram. Впрочем, все три слова &mdash; <q>cooperation</q>, <q>collaboration</q> 
					и <q>communication</q> &mdash; являются синонимами, так что довольно часто используется 
					<q>старое</q> название. Часто даже, говоря <q>диаграммы взаимодействия</q>, подразумевают 
					именно диаграммы кооперации.
				</p>
				<p>
					Итак, мы уже говорили, что, подобно диаграммам последовательностей, диаграммы кооперации 
					предназначены для описания динамических аспектов моделируемой системы. Обычно они применяются 
					для того, чтобы:
				</p>
				<ul>
					<li>
						показать набор взаимодействующих объектов в реальном окружении <q>с высоты птичьего 
						полета</q>;
					</li>
					<li>
						распределить функциональность между классами, основываясь на результатах изучения 
						динамических аспектов системы;
					</li>
					<li>
						описать логику выполнения сложных операций, особенно в тех случаях, когда один объект 
						взаимодействует еще с несколькими объектами;
					</li>
					<li>
						изучить роли, выполняемые объектами внутри системы, а также отношения между объектами, в 
						которые они вовлекаются, выполняя эти роли.
					</li>
				</ul>
				<p>
					Говоря о диаграммах кооперации, часто упоминают два <q>уровня</q> таких диаграмм &mdash; 
					уровень <em>экземпляров</em> (примеров, Instance-Level) и уровень <em>спецификации</em> 
					(Specification-Level). В чем же разница? Ответ прост: уровень экземпляров отображает 
					взаимодействия между объектами (экземплярами классов); такая диаграмма обычно создается, чтобы 
					исследовать внутреннее устройство объектно-ориентированной системы. Уровень же спецификации 
					используется для изучения ролей, исполняемых в системе основными классами. В любом случае, 
					диаграмма взаимодействия не отображает процесс. Она показывает взаимодействие между объектами, 
					которое, как мы уже знаем, осуществляется путем посылки и приема сообщений. При этом точная 
					последовательность сообщений не так хорошо видна, как на диаграмме последовательностей, так 
					что если для вас важно отобразить именно порядок отправки и приемов сообщений, используйте 
					диаграмму последовательностей.
				</p>
				<p>
					Так, все вступительные слова сказаны, теперь поговорим о нотации диаграмм взаимодействия. На 
					диаграммах взаимодействия вы можете увидеть... нет, не угадали, не почтальонов, которые сломя 
					голову мечутся между объектами, спеша доставить сообщения в бумажных конвертах с большими 
					сургучными печатями. На диаграммах взаимодействия вы увидите объекты, классы, сообщения, связи 
					и кооперации. Но обо всем по порядку.
				</p>
				<p>
					Итак, <em>кооперация</em> (collaboration). Это статическая конструкция для моделирования набора 
					сущностей, взаимодействующих друг с другом. Кооперация определяет набор взаимодействующих ролей, 
					используемых вместе, чтобы показать некую функциональность. Кооперация часто реализует некоторый 
					<em>паттерн</em> (шаблон проектирования). Впрочем, о шаблонах проектирования мы сейчас говорить 
					не будем, поскольку они выходят за рамки этого курса и первого 
					<a href="http://www.omg.org/ocup-2/" title="OCUP-2" target="_blank">теста программы OCUP</a>. 
					Заинтригованным читателям мы предложим попробовать ввести словосочетание <q>design patterns</q> 
					в адресную строку браузера. Спорим, попадете на статью 
					<a href="https://ru.wikipedia.org/wiki/Design_Patterns" title="Design pattern" target="_blank"><q>Design pattern (computer science)</q></a> 
					из <a href="https://ru.wikipedia.org/wiki/Заглавная_страница" title="Wikipedia" target="_blank"><q>Википедии</q></a>?
				</p>
				<p>
					Кооперация изображается в виде эллипса с пунктирной границей, причем символ этот может 
					использоваться двумя способами. Вот первый способ (рис. 5.11):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_11_uml.gif" alt="picture is missing" title="Пример диаграммы кооперации" width="362" height="251">
						<figcaption>Рисунок 5.11</figcaption>
				</figure>
				<p>
					Мы видим, что эта диаграмма буквально иллюстрирует наши слова о кооперации как наборе ролей, 
					используемых вместе, чтобы показать некую функциональность, в данном случае &mdash; выполнение 
					ежемесячного резервного копирования. Второй способ показывает прикрепленные к объектам (классам) 
					роли в рамках данной кооперации. Назначение роли изображается пунктирной линией со стрелкой на 
					конце, направленной в сторону объекта. Имя роли указывается на конце линии, рядом с объектом. 
					Посмотрите, например, на эту диаграмму (рис. 5.12):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_12_uml.gif" alt="picture is missing" title="Пример диаграммы кооперации" width="620" height="189">
						<figcaption>Рисунок 5.12</figcaption>
				</figure>
				<p>
					Все ведь понятно, правда? Видно, кто какую роль играет и в каком взаимодействии (кооперации). А 
					еще показана генерализация и кооперации, и самих исполнителей.
				</p>
				<p>
					С кооперацией разобрались. Отметим, что, скорее всего, в реальном моделировании вы с ней будете 
					встречаться крайне редко. Следующие элементы, которые можно увидеть на диаграмме взаимодействия 
					&mdash; это объекты и классы.
				</p>
				<p>
					Поскольку диаграмма кооперации &mdash; всего лишь альтернативная форма представления той же 
					информации, которая содержится в диаграмме последовательностей, то и обозначения объектов 
					(классов) в ней, по сути, такие же, как и на диаграмме последовательностей (и на других 
					диаграммах). Чтобы проиллюстрировать это утверждение, приведем пример диаграммы взаимодействия, 
					позаимствованный нами с сайта 
					<a href="http://www.agilemodeling.com/style/collaborationDiagram.htm" target="_blank">www.agilemodeling.com</a> 
					(рис. 5.13):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_13_uml.gif" alt="picture is missing" title="Объекты на диаграмме кооперации" width="767" height="289">
						<figcaption>Рисунок 5.13</figcaption>
				</figure>
				<p>
					Как видите, диаграмма иллюстрирует покупку некоторого товара (вероятно, в онлайне) и оплату с 
					помощью кредитной карты. Еще одна интересная вещь, которую можно увидеть на этой диаграмме 
					&mdash; это сообщения, вернее, то, как они изображаются. Сообщения показаны в виде текста 
					(названия метода) со стрелкой. Но есть один нюанс: на диаграмме последовательностей было легко 
					показать последовательность отправки сообщений, так как линии жизни служили одновременно 
					<q>осями времени</q>, направленными вниз, и, естественно, было видно, что нижние сообщения 
					отправлены позже верхних. В диаграммах взаимодействия проблему отображения очередности 
					сообщений решили просто &mdash; перед названием каждого сообщения просто пишут его номер. 
					Выглядит эта конструкция так: <em>номер</em>:<em>название_сообщения</em>. Причем часто 
					используют и составные номера. Например, объект отправил другому объекту сообщение с номером 1. 
					Когда объект-получатель в свою очередь отправляет сообщения другим объектам, они получают 
					номера 1.1, 1.2 и т. д. Иногда нужно показать одновременную отправку сообщений. Чтобы отметить 
					параллельные потоки сообщений, их номера предваряют буквами A, B, C, D и т. д. Вот пример 
					таких обозначений, позаимствованный опять-таки с 
					<a href="http://www.agilemodeling.com/" target="_blank">www.agilemodeling.com</a> (рис. 5.14):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_14_uml.gif" alt="picture is missing" title="Пример нумерации на диаграмме кооперации" width="505" height="203">
						<figcaption>Рисунок 5.14</figcaption>
				</figure>
				<p>
					Еще одна <q>мелочь</q>, на которую хотелось бы обратить внимание пользователя &mdash; это 
					<em>мультиобъекты</em>. Мультиобъект показывает, что на <q>дальнем</q> конце ассоциации 
					находится не один, а целый набор объектов. Такая конструкция используется, чтобы показать 
					операцию, которая нацелена на целый набор объектов. Мультиобъект изображается как два 
					прямоугольника, смещенных по отношению друг к другу, что создает впечатление <q>колоды 
					карт</q>. Сообщение, отправленное мультиобъекту, означает сообщение к набору объектов, 
					например, операция выбора &mdash; поиска определенного объекта. Пример подобной диаграммы 
					показан на рисунке (рис. 5.15):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_15_uml.gif" alt="picture is missing" title="Пример мультиобъектов на диаграмме кооперации" width="586" height="212">
						<figcaption>Рисунок 5.15</figcaption>
				</figure>
				<p>
					Смысл диаграммы вполне понятен: для печати документа из некоторого приложения необходимо выбрать 
					из всех доступных некий конкретный принтер. Символ композиции применен для того, чтобы показать, 
					что принтер входит в состав набора объектов. Предположим теперь, что у нас доступны несколько 
					сетевых принтеров и один локальный. Как показать, что выбран именно он? Легко. Для этого 
					используют связи со стереотипами. Чтобы показать, что выбран локальный принтер, чуть изменим 
					предыдущую диаграмму (рис. 5.16):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_16_uml.gif" alt="picture is missing" title="Пример мультиобъектов на диаграмме кооперации" width="593" height="225">
						<figcaption>Рисунок 5.16</figcaption>
				</figure>
				<p>
					Следует отметить, что иногда вместо фигурных скобок используются угловые кавычки (как мы 
					привыкли делать, указывая стереотип в названии компонента или класса), но чаще все же применяют 
					фигурные скобки. Измененная диаграмма стала еще более понятной, не правда ли? Чтобы закрепить 
					полученные знания о связях со стереотипами, приведем еще один пример (рис. 5.17):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_17_uml.gif" alt="picture is missing" title="Пример диаграммы кооперации" width="451" height="390">
						<figcaption>Рисунок 5.17</figcaption>
				</figure>
				<p>
					Смысл диаграммы опять вполне понятен, ведь правда? А стереотипы связей позволяют исключить 
					неоднозначности, которые могли бы быть, если бы мы говорили, например, о многонациональной 
					распределенной компании...
				</p>
				<p>
					И еще одна вещь, которая связана с понятием кооперации &mdash; <em>композитный объект</em>. 
					Композитный объект &mdash; это высокоуровневый объект, состоящий из нескольких частей-объектов. 
					Это <em>экземпляр композитного класса</em>, реализующего композитное агрегирование класса и его 
					частей. Композитный объект - понятие, близкое к понятию кооперации, но более простое и более 
					ограниченное. Это конструкция, показывающая целое в виде взаимодействующих частей, но в основном 
					с точки зрения композиции. Изображается композитный объект в виде прямоугольного символа 
					объекта, но с некоторыми отличиями:
				</p>
				<ul>
					<li>
						имя объекта указывается в верхней части прямоугольника, отделенной от его остальной части 
						горизонтальной линией;
					</li>
					<li>
						в нижней части прямоугольника размещаются части композитного объекта, также, естественно, 
						изображаемые символами объектов;
					</li>
					<li>
						части композитного объекта могут (и даже должны) быть связаны между собой;
					</li>
					<li>
						допускается ситуация, когда некоторые части композитного объекта сами являются композитными 
						объектами.
					</li>
				</ul>
				<p>
					Посмотрим же, как это выглядит на примере (рис. 5.18):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_18_uml.gif" alt="picture is missing" title="Пример композитного объекта на диаграмме кооперации" width="263" height="351">
						<figcaption>Рисунок 5.18</figcaption>
				</figure>
				<p>
					Не правда ли, эта упрощенная модель графического окна проста и понятна? Окно имеет заголовок, 
					рабочую область и две полосы прокрутки &mdash; горизонтальную и вертикальную, которые ее 
					перемещают. Все просто!
				</p>
				<p>
					Композитный объект лишь близок по значению к кооперации, но не встречается на диаграммах 
					взаимодействия <q>в чистом виде</q>. На диаграммах взаимодействия иногда можно увидеть очень 
					близкую по смыслу конструкцию, а именно <em>активный объект</em>. Активными называют объекты, 
					которые владеют собственным потоком управления и могут инициировать выполнение действий. 
					<em>Пассивные объекты</em> содержат данные, но не могут инициировать выполнение. Конечно, 
					пассивные объекты могут посылать сообщения в процессе обработки полученных запросов. Активный 
					объект (или, вернее, его роль) выглядит на диаграмме как прямоугольный символ объекта, но с 
					утолщенными границами. Часто активный объект изображается как композитный объект, содержащий 
					объекты-части. Посмотрите, например, на эту диаграмму, позаимствованную нами с 
					<a href="http://etna.intevry.fr/COURS/UML/notation/notation8a.html" target="_blank">etna.intevry.fr</a> 
					(рис. 5.19):
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_19_uml.gif" alt="picture is missing" title="Пример активного объекта на диаграмме кооперации" width="593" height="515">
						<figcaption>Рисунок 5.19</figcaption>
				</figure>
				<p>
					Как видите, все объекты, отображенные на диаграмме, являются активными. Таких объекта три 
					&mdash; это робот, печь и менеджер цеха, который изображен как композитный активный объект.
				</p>
				<p>
					Вообще же, если говорить о композитных объектах, то следует отметить, что в UML 2 появился 
					новый тип диаграмм &mdash; <em>композитная структурная диаграмма</em>. Она показывает внутреннюю 
					структуру элемента, включая точки взаимодействия с другими частями системы. Таким образом, 
					отображается состав и отношения между частями, которые совместными усилиями реализуют поведение 
					элемента. Вот отличный пример композитной диаграммы из Zicom Mentor (рис. 5.20).
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_20_uml.gif" alt="picture is missing" title="Пример композитной диаграммы" width="620" height="381">
						<figcaption>Рисунок 5.20</figcaption>
				</figure>
				<p>
					Прекрасная модель велосипеда! Узнаете старых знакомых &mdash; композитные объекты?
				</p>
				<p>
					К сожалению, композитные структурные диаграммы находятся за пределами тематики экзамена UM0-100, 
					поэтому больше о них мы здесь говорить не будем. Однако напоследок скажем, что, кроме внутренних 
					частей, на таких диаграммах можно увидеть еще одно новшество UML 2 &mdash; <em>порты</em>. Порт 
					&mdash; это типизированный элемент, который представляет <q>видимую снаружи</q> часть содержащего 
					его элемента. Порт, как это и следует из названия, определяет взаимодействие элемента модели с 
					окружающей его средой. Порт может размещаться на границе части, класса или композитной структуры. 
					Порт может описывать сервисы, предоставляемые элементом модели (и требуемые окружающей его 
					средой). Изображается порт как именованный (недаром же мы ранее сказали <q>типизированный</q>) 
					прямоугольник на границе содержащего его элемента модели (впрочем, иногда можно увидеть символ 
					порта и внутри символа класса &mdash; тогда говорят, что класс имеет скрытый порт ). Чтобы 
					покончить с этими отступлениями от темы, покажем, как все это выглядит на диаграмме, и вернемся к 
					диаграммам взаимодействия (рис. 5.21).
				</p>
				<figure>
					<img src="index_interaction_diagrams/05_21_uml.gif" alt="picture is missing" title="Пример порта на композитной диаграмме" width="457" height="189">
						<figcaption>Рисунок 5.21</figcaption>
				</figure>
				<p>
					Вспомнили, что изображают <q>леденцы на палочке</q>? Правильно, интерфейсы &mdash; 
					предоставляемый классом и требуемый им, молодцы. А теперь вернемся к основной нити нашего 
					повествования.
				</p>
			</section>
			<section>
				<h3>Рекомендации по построению диаграмм взаимодействия</h3>
				<p>
					Каким же образом и в какой последовательности следует действовать, чтобы построить качественную 
					диаграмму взаимодействия? Начинать нужно с выделения тех и только тех классов, объекты которых 
					участвуют в моделируемом вами взаимодействии. Затем все объекты наносим на диаграмму. Следует 
					также определить те объекты, которые будут существовать постоянно, и те, которые будут 
					существовать только во время выполнения ими действий в рамках моделируемого взаимодействия.
				</p>
				<p>
					Так, объекты нарисованы, можно переходить к сообщениям. Возможно, чтобы лучше передать роли, 
					играемые объектами во взаимодействии, понадобится использовать различные разновидности сообщений 
					и стереотипы. Для уничтожения объектов, которые существуют только во время выполнения неких 
					действий, тоже нужно предусмотреть специальные сообщения.
				</p>
				<p>
					А если есть ветвления? Самые простые случаи ветвлений процесса взаимодействия можно показать и 
					на одной диаграмме &mdash; помните пример с разными способами платежа в зависимости от стоимости 
					приглянувшейся вещи? Но при изображении ветвлений диаграмма становится более сложной для 
					понимания <q>с лету</q>. Нужно соблюдать баланс между детализацией и сложностью: лучше каждый 
					альтернативный поток управления показывать на отдельной диаграмме. В таком случае следует 
					рассматривать такие <q>частные</q> диаграммы в комплексе, как одну модель взаимодействия.
				</p>
				<p>
					Если же хочется еще больше детализировать диаграмму, можно ввести временные ограничения на 
					выполнение отдельных действий. Впрочем, для простых асинхронных сообщений временные ограничения, 
					скорее всего, не нужны. А вот необходимость синхронизации сложных потоков управления часто 
					требует использования таких ограничений. Запись их должна следовать правилам языка объектных 
					ограничений (Object Constraint Language). Рассмотрение 
					<abbr title="Object Constraint Language">OCL</abbr> выходит за рамки нашего курса и экзамена 
					UM0-100, для подготовки к которому он написан. Хотя, сами того не зная, мы уже использовали OCL 
					&mdash; вспомните условия в квадратных скобках под сообщениями на диаграмме последовательностей 
					с ветвлением!
				</p>
			</section>
			<section>
				<h3>Выводы</h3>
				<ul>
					<li>
						Диаграмма последовательностей &mdash; диаграмма взаимодействия, в которой основной акцент 
						сделан на упорядочении сообщений во времени.
					</li>
					<li>
						Диаграмма кооперации &mdash; альтернативная форма представления информации, содержащейся в 
						диаграмме последовательностей.
					</li>
					<li>
						Диаграмма кооперации &mdash; диаграмма взаимодействий, в которой основной акцент сделан на 
						структурной организации объектов, посылающих и получающих сообщения.
					</li>
					<li>
						Существуют различные типы сообщений: синхронные, асинхронные и ответные, потерянные и 
						найденные.
					</li>
					<li>
						Диаграммы кооперации бывают двух <q>уровней</q> &mdash; уровня экземпляров и уровня 
						спецификации. Диаграммы кооперации бывают двух <q>уровней</q> &mdash; уровня экземпляров и 
						уровня спецификации.
					</li>
					<li>
						Кооперация &mdash; это статическая конструкция для моделирования набора сущностей, 
						взаимодействующих друг с другом.
					</li>
					<li>
						С диаграммами кооперации связаны такие понятия, как мультиобъекты, композитные объекты и 
						активные объекты.
					</li>
				</ul>
			</section>
		</div>
		
		<footer role="contentinfo">
			<hr/>
			<p>Оформление страницы <a href="sobolandrey.by"  target="_blank" title="Перейти на веб-сайт">sobolandrey.by</a></p>
			<p>&copy; 2015</p>
		</footer>
		
		<aside role="complementary">
			<nav role="navigation">
				<ul>
					<li class='aside_pointer'> <span id="span_aside">навигация</span></li>
						<ul>
							<li class='main_page'>Для перехода на <br> <a href='index.html'>стартовую</a> страницу</li>
						</ul>
					<li class='aside_pointer'> <span>содержание</span></li>
						<ul>
							<li class='high_nav'><a href='index_what_is_uml.html'>Что такое UML</a></li>
							<li class='high_nav'><a href='index_kinds_of_diagrams.html'>Виды диаграмм</a></li>
							<li class='high_nav'><a href='index_class_diagram.html'>Диаграмма классов</a></li>
							<li class='high_nav'><a href='index_activity_diagrams.html'>Диаграммы активностей</a></li>
							<li class='high_nav'><a href='index_interaction_diagrams.html'>Диаграммы взаимодействия</a></li>
							<li class='high_nav'><a href='index_use_case_diagram.html'>Диаграммы прецедентов</a></li>
							<li class='high_nav'><a href='index_case_tools.html'>Обзор CASE-средств для построения диаграмм UML</a></li>
						</ul>
					<li class='aside_pointer'><span>полезное</span></li>
						<ul>
							<li class='low_nav'><a href='http://www.intuit.ru/' target='_blank'>НОУ «ИНТУИТ»</a></li>
							<li class='low_nav'><a href='http://www.omg.org/' target='_blank'>Object Managment Group</a></li>
							<li class='low_nav'><a href='http://www.sparxsystems.com.au/' target='_blank'>Словарь-ассистент UML 2.0	</a></li>
						</ul>
				</ul>
			</nav>
			<div id="extra2" role="presentation"></div>
			<div id="extra3" role="presentation"></div>
		</aside>
		<div id="top"> <i class="fa fa-angle-double-up"></i> </div>
	</div>
		
	<div id="extra1" role="presentation"></div>
	<div id="extra4" role="presentation"></div>
	
	<!--[if lt IE 9]>
	<script src="libs/html5shiv/es5-shim.min.js"></script>
	<script src="libs/html5shiv/html5shiv.min.js"></script>
	<script src="libs/html5shiv/html5shiv-printshiv.min.js"></script>
	<script src="libs/respond/respond.min.js"></script>
	<![endif]-->
	<script src="libs/jquery/jquery-1.11.1.min.js"></script>
	<script src="js/common.js"></script>
	<!-- Yandex.Metrika counter --><!-- /Yandex.Metrika counter -->
	<!-- Google Analytics counter --><!-- /Google Analytics counter -->
</body>
</html>